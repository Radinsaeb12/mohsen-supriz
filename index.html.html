<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú© Ù…Ø­Ø³Ù†! - Ø±Ø§Ù†Ø§ Ùˆ Ø¯ÙˆØ³ØªØ§Ù†</title> 
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¥³</text></svg>">
    <style>
        .light-theme { font-family: 'Tahoma', 'Arial', sans-serif; background-color: #f4f4f2; color: #333; }
        .dark-theme { background-color: #333; color: #f4f4f2; }
        body {
            text-align: right; padding: 20px; overflow-x: hidden; font-size: 1.05em;
            transition: background-color 0.5s, color 0.5s; direction: rtl;
        }
        .container {
            max-width: 850px; margin: 0 auto; padding: 40px; border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); transition: background-color 0.5s;
            background-color: var(--card-bg, #ffffff);
        }
        h1 { color: #b22222; font-size: 2.5em; margin-bottom: 20px; direction: rtl; }
        #theme-toggle { position: absolute; top: 20px; left: 20px; background: none; border: 2px solid #008080; color: #008080; padding: 8px 12px; border-radius: 5px; cursor: pointer; font-size: 0.9em; }
        #reveal-button { padding: 15px 30px; font-size: 1.2em; background-color: #008080; color: white; border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.3s ease, transform 0.1s; margin-top: 20px; }
        
        /* GÄ°ZLENEN ALAN (SÃœRPRÄ°Z Ä°Ã‡ERÄ°K) */
        #birthday-content { 
            display: none; margin-top: 40px; border-top: 2px dashed #ccc; padding-top: 30px;
            filter: sepia(50%) contrast(110%); transition: filter 2s ease-in-out; text-align: right;
        }
        
        /* Geri kalan CSS aynÄ± kaldÄ± */
    </style>
</head>
<body class="light-theme" dir="rtl">

    <button id="theme-toggle">Ø±ÙˆØ´Ù† / ØªØ§Ø±ÛŒÚ©</button>

    <div id="main-content">
        <div class="container" id="main-container">
            
            <div id="intro-section">
                <h1 class="rtl-text">ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú© Ù…Ø­Ø³Ù†!</h1> 
                <p style="margin-bottom: 30px;">(Tavallodet MobÃ¢rak - ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú©)</p>
                <p>Ù…Ø­Ø³Ù† Ø¹Ø²ÛŒØ²ØŒ Ø±Ø§Ù†Ø§ØŒ Ø¢ØªÙˆØ³Ø§ Ùˆ Ø±Ø§Ø¯ÛŒÙ† Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ ÛŒÚ© Ø³ÙˆØ±Ù¾Ø±Ø§ÛŒØ² ÙˆÛŒÚ˜Ù‡ Ø¯Ø§Ø±Ù†Ø¯. Ø§Ú¯Ø± Ø¢Ù…Ø§Ø¯Ù‡ Ù‡Ø³ØªÛŒØ¯ØŒ Ø¯Ú©Ù…Ù‡ Ø±Ø§ ÙØ´Ø§Ø± Ø¯Ù‡ÛŒØ¯ ØªØ§ Ø¬Ø´Ù† Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯!</p>

                <button id="reveal-button">Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ø³ÙˆØ±Ù¾Ø±Ø§ÛŒØ² Ùˆ ØªÙ…Ø§Ø´Ø§ ğŸ¥³</button>
            </div>

            <div id="birthday-content" style="display: none;">
                
                <h2 style="color: #2e8b57;">Ø¬Ø´Ù† Ø´Ù…Ø§ Ø¢ØºØ§Ø² Ø´Ø¯!</h2>
                
                <div class="video-wrapper">
                    <iframe id="birthday-video" width="560" height="315" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                </div>

                <h3 style="margin-top: 30px;">Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø¢Ø±Ø²ÙˆÛŒ Ø¯ÙˆØ³ØªØ§Ù†:</h3>
                <div id="wish-card">
                    <p id="wish-text"></p>
                </div>
                
                <div id="signature-section" style="margin-top: 50px; border-top: 1px solid #ddd; padding-top: 30px;">
                    <h3 style="color: #555;">Ø¯ÙØªØ± ÛŒØ§Ø¯Ú¯Ø§Ø±ÛŒ: Ø§Ù…Ø¶Ø§ Ú©Ù†ÛŒØ¯</h3>
                    <p>Ù„Ø·ÙØ§ Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± Ø§ÛŒÙ† Ø¯ÙØªØ± ÛŒØ§Ø¯Ú¯Ø§Ø±ÛŒ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ ØªØ§ Ø§ÛŒÙ† Ù„Ø­Ø¸Ù‡ Ø«Ø¨Øª Ø´ÙˆØ¯:</p>
                    <input type="text" id="signature-input" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ..." style="padding: 10px; border: 1px solid #ccc; border-radius: 5px; width: 60%; max-width: 300px;">
                    <button id="sign-button" style="background-color: #555; color: white; padding: 10px 15px; border: none; border-radius: 5px; margin-left: 10px;">Ø«Ø¨Øª Ø§Ù…Ø¶Ø§</button>
                    <p id="signature-status" style="margin-top: 10px; font-weight: bold; min-height: 20px;"></p>
                </div>

            </div>
            
            <div id="delayed-message">
                <p><strong>Ù¾ÛŒØ§Ù… Ø§Ø¶Ø§ÙÛŒ Ø§Ø² Ø±Ø§Ù†Ø§ØŒ Ø¢ØªÙˆØ³Ø§ Ùˆ Ø±Ø§Ø¯ÛŒÙ†:</strong> Ù…Ø­Ø³Ù† Ø¹Ø²ÛŒØ²Ù…ØŒ Ù‡Ù…Ø±Ø§Ù‡ Ø²Ù†Ø¯Ú¯ÛŒ Ù…Ù†ØŒ ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú© Ùˆ Ø³Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ Ù¾Ø± Ø§Ø² Ø³Ù„Ø§Ù…ØªÛŒØŒ Ø®ÙˆØ´Ø¨Ø®ØªÛŒ Ùˆ Ø´Ø§Ø¯ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒ! Ù‡Ù…ÛŒØ´Ù‡ Ø¯ÙˆØ³ØªØª Ø¯Ø§Ø±ÛŒÙ…. - Ø±Ø§Ù†Ø§ØŒ Ø¢ØªÙˆØ³Ø§ Ùˆ Ø±Ø§Ø¯ÛŒÙ†</p>
            </div>
        </div>
    </div>

    <script>
        // Hata ayÄ±klama iÃ§in VIDEO_URL doÄŸru olmalÄ±
        const VIDEO_URL = "https://www.youtube.com/embed/n_Jp2L2l3q0?autoplay=1&mute=1&controls=1"; 
        
        // TÃ¼m DOM Elementleri bir kerede alÄ±nÄ±r
        const elements = {
            body: document.body,
            mainContainer: document.getElementById('main-container'),
            introSection: document.getElementById('intro-section'),
            revealButton: document.getElementById('reveal-button'),
            birthdayContent: document.getElementById('birthday-content'),
            videoElement: document.getElementById('birthday-video'),
            delayedMessage: document.getElementById('delayed-message'),
            themeToggle: document.getElementById('theme-toggle'),
            wishText: document.getElementById('wish-text'),
            signatureInput: document.getElementById('signature-input'),
            signButton: document.getElementById('sign-button'),
        };
        
        const wishCards = [
            { sender: "Ø±Ø§Ù†Ø§", message: "Ù…Ø­Ø³Ù† Ø¹Ø²ÛŒØ²Ù…ØŒ Ù‡Ù…ÛŒØ´Ù‡ Ù‚Ø¯Ø±Ø¯Ø§Ù† Ø­Ù…Ø§ÛŒØª Ùˆ Ø­Ø¶ÙˆØ±Øª Ø¯Ø± Ú©Ù†Ø§Ø±Ù… Ù‡Ø³ØªÙ…. ØªÙˆ Ø¨Ø²Ø±Ú¯ØªØ±ÛŒÙ† Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ù…Ù† Ù‡Ø³ØªÛŒ. ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú©! â¤ï¸" },
            { sender: "Ø¢ØªÙˆØ³Ø§", message: "Ù…Ø­Ø³Ù† Ø¹Ø²ÛŒØ²ØŒ Ø¯ÙˆØ³ØªÛŒ Ø´Ù…Ø§ Ø±Ø§ Ø¬Ø´Ù† Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒÙ… Ùˆ Ø¨Ø±Ø§ÛŒØª Ø³Ø§Ù„ÛŒ Ù¾Ø± Ø§Ø² Ø³Ù„Ø§Ù…ØªÛŒ Ùˆ Ø´Ø§Ø¯ÛŒ Ø¢Ø±Ø²ÙˆÙ…Ù†Ø¯ÛŒÙ…! ğŸ‰" },
            { sender: "Ø±Ø§Ø¯ÛŒÙ†", message: "ØªÙˆÙ„Ø¯Øª Ù…Ø¨Ø§Ø±Ú© (Tavallodet MobÃ¢rak)! Ø¢Ø±Ø²Ùˆ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ù‡Ù…ÛŒØ´Ù‡ Ù¾Ø±Ø§Ù†Ø±Ú˜ÛŒ Ùˆ Ù„Ø¨Ø®Ù†Ø¯ Ø¨Ù‡ Ù„Ø¨ Ø¨Ø§Ø´ÛŒ." }
        ];

        let currentWishIndex = 0;
        
        // YÃœKLENÄ°YOR Ä°ÅLEVÄ° ARTIK YOK. SADECE DOMContentLoaded Ä°LE BAÅLAR

        // DÄ°LEK KARTLARI FONKSÄ°YONU
        function displayNextWish() {
            const card = wishCards[currentWishIndex];
            elements.wishText.innerHTML = `<strong>Ù¾ÛŒØ§Ù… Ø§Ø² ${card.sender}:</strong> "${card.message}"`;
            currentWishIndex = (currentWishIndex + 1) % wishCards.length;
        }

        displayNextWish();
        setInterval(displayNextWish, 5000); 

        // TEMA DEÄÄ°ÅTÄ°RME FONKSÄ°YONU
        elements.themeToggle.addEventListener('click', () => { /* ... */ });
        
        // Ä°MZA Ä°ÅLEVÄ°
        elements.signButton.addEventListener('click', function() { /* ... */ });

        // KONFETÄ° Fonksiyonu
        function startConfetti() { /* ... */ }
        
        // SÃœRPRÄ°ZÄ° GÃ–STERME FONKSÄ°YONU (Butona TÄ±klama)
        elements.revealButton.addEventListener('click', function() {
            elements.revealButton.disabled = true;

            // LAMBA ANAHTARI EFECTÄ°
            elements.body.style.transition = 'background-color 0.1s';
            elements.body.style.backgroundColor = '#000'; 
            elements.mainContainer.style.opacity = '0';

            setTimeout(() => {
                elements.body.style.transition = 'background-color 0.5s, color 0.5
